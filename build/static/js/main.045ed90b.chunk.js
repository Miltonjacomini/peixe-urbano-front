(this.webpackJsonppeixe_urbano_front=this.webpackJsonppeixe_urbano_front||[]).push([[0],{121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),c=a.n(l),i=a(33),o=a(31),u=a(24),m=a(11),s=a.n(m),p=a(17),d=a(8);a(96),a(97),a(61);var b=function(e){var t=e.children;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(i.b,{to:"/",className:"navbar-brand"},"Peixe Urbano - Ofertas "),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{to:"/deal",className:"nav-link"},"Deal")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{to:"/buy-option",className:"nav-link"},"Buy Option"))))),r.a.createElement("br",null),r.a.createElement("main",null,t)))},E=a(77),f=a.n(E).a.create({baseURL:"http://localhost:8080/api"}),v=a(162),g=a(166),h=a(165),O=a(161),y=a(163),j=a(164),D=a(158),N=a(167),k=a(49),x=a.n(k),C=a(174),S=a(168),w=a(160),q=a(176),F=a(169),P=a(155),T=r.a.createContext({openDialog:{},setOpenDialog:function(){}}),A=T.Provider,W=(T.Consumer,T),_=(a(71),Object(P.a)({table:{minWidth:650}})),B=function(e){var t=e.deal,a=Object(n.useContext)(W),l=a.openDialog,c=a.setOpenDialog,i=Object(n.useState)([]),o=Object(d.a)(i,2),u=o[0],m=o[1],b=_();Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("/buy-options");case 2:t=e.sent,m(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("entrei no dialog"),function(){e.apply(this,arguments)}()}),[]);var E=function(){c(!1)};function k(){return(k=Object(p.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.post("/deal/".concat(t.id,"/option/").concat(a.id));case 2:n=e.sent,console.log(n),m(u.filter((function(e){return e.id!==a.id})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(C.a,{open:l,onClose:E,maxWidth:"md","aria-labelledby":"form-dialog-title"},r.a.createElement(q.a,{id:"form-dialog-title"},"Adicione as op\xe7\xf5es de ofertas "),r.a.createElement(w.a,null,r.a.createElement(O.a,{component:D.a},r.a.createElement(v.a,{className:b.table,"aria-label":"simple table"},r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(h.a,{align:"left"},"Title"),r.a.createElement(h.a,{align:"left"},"Sale Price"))),r.a.createElement(g.a,null,u.map((function(e){return r.a.createElement(j.a,{key:e.id},r.a.createElement(h.a,{align:"left"},e.title),r.a.createElement(h.a,{align:"left"},e.salePrice),r.a.createElement(h.a,{align:"right"},r.a.createElement(N.a,{color:"primary","aria-label":"Add offers to shopping cart",onClick:function(){return function(e){return k.apply(this,arguments)}(e)}},r.a.createElement(x.a,null))))})))))),r.a.createElement(S.a,null,r.a.createElement(F.a,{onClick:E,color:"primary"},"Fechar")))},I=a(177),J=a(175),U=a(172);var H=function(e){var t=e.onChange,a=Object(n.useState)([]),l=Object(d.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(""),u=Object(d.a)(o,2),m=u[0],b=u[1];return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("/deal-types");case 2:t=e.sent,i(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{id:"label-select-deal-type"},"Type"),r.a.createElement(U.a,{labelId:"label-select-deal-type",id:"select-deal-type",value:m,onChange:function(e){e.preventDefault(),b(e.target.value),t(m)}},c.map((function(e){return r.a.createElement(J.a,{key:e.name,value:e},e.descricao)}))))},L=(a(75),Object(P.a)({table:{minWidth:650}}));var Q=function(e){e.onSubmit;var t=Object(n.useState)(""),a=Object(d.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(""),o=Object(d.a)(i,2),m=o[0],E=o[1],k=Object(n.useState)(!1),C=Object(d.a)(k,2),S=C[0],w=C[1],q=Object(n.useState)(new Date),F=Object(d.a)(q,2),P=F[0],T=F[1],W=Object(n.useState)(""),_=Object(d.a)(W,2),I=_[0],J=_[1],U=Object(n.useState)(""),Q=Object(d.a)(U,2),R=Q[0],V=Q[1],$=Object(n.useState)(""),z=Object(d.a)($,2),G=z[0],K=z[1],M=Object(n.useState)([]),X=Object(d.a)(M,2),Y=X[0],Z=X[1],ee=Object(n.useState)(""),te=Object(d.a)(ee,2),ae=te[0],ne=te[1],re=L();function le(){return(le=Object(p.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f.post("/deal",{title:l,text:m,createDate:P,publishDate:I,endDate:R,type:G});case 3:a=e.sent,Z([].concat(Object(u.a)(Y),[a.data])),console.log(a),c(""),E(""),T(""),J(""),V(""),K("");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("/deals");case 2:t=e.sent,Z(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(b,{children:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-deal"},r.a.createElement("div",{className:"form-deal-title"},r.a.createElement("strong",null,"Cadastro de oferta")),r.a.createElement("form",{onSubmit:function(e){return le.apply(this,arguments)}},r.a.createElement("div",{className:"input-block"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{id:"title",name:"title",value:l,onChange:function(e){return c(e.target.value)},required:!0})),r.a.createElement("div",{className:"input-block"},r.a.createElement("label",{htmlFor:"text"},"Text"),r.a.createElement("textarea",{id:"text",name:"text",value:m,onChange:function(e){return E(e.target.value)},required:!0})),r.a.createElement("div",{className:"input-block"},r.a.createElement(H,{onChange:K})),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-block"},r.a.createElement("label",{htmlFor:"publishDate"},"Publish Date"),r.a.createElement("input",{id:"publishDate",type:"date",name:"publishDate",value:I,onChange:function(e){return J(e.target.value)},required:!0})),r.a.createElement("div",{className:"input-block"},r.a.createElement("label",{htmlFor:"endDate"},"End Date"),r.a.createElement("input",{id:"endDate",type:"date",name:"endDate",value:R,onChange:function(e){return V(e.target.value)},required:!0}))),r.a.createElement("button",{type:"submit"},"Salvar"))),r.a.createElement(O.a,{component:D.a,className:"table-deals"},r.a.createElement(v.a,{className:re.table,"aria-label":"simple table"},r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(h.a,{align:"left"},"Title"),r.a.createElement(h.a,{align:"left"},"Text"),r.a.createElement(h.a,{align:"center"},"Type"),r.a.createElement(h.a,{align:"center"},"Data Publish"),r.a.createElement(h.a,{align:"center"},"Data End"))),r.a.createElement(g.a,null,Y.map((function(e){return r.a.createElement(j.a,{key:e.id},r.a.createElement(h.a,{align:"left"},e.title),r.a.createElement(h.a,{align:"left"},e.text),r.a.createElement(h.a,{align:"center"},e.type.descricao),r.a.createElement(h.a,{align:"center"},e.publishDate),r.a.createElement(h.a,{align:"center"},e.endDate),r.a.createElement(h.a,{align:"center"},r.a.createElement(N.a,{color:"primary","aria-label":"Add offers to shopping cart",onClick:function(){return function(e){console.log("entrei no onClick"),ne(e),w(!0)}(e)}},r.a.createElement(x.a,null))))}))))),r.a.createElement(A,{value:{openDialog:S,setOpenDialog:w}},r.a.createElement(B,{deal:ae})))})};a(121);var R=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),i=Object(d.a)(c,2),o=i[0],u=i[1],m=Object(n.useState)(""),E=Object(d.a)(m,2),v=E[0],g=E[1],h=Object(n.useState)(""),O=Object(d.a)(h,2),y=O[0],j=O[1],D=Object(n.useState)(new Date),N=Object(d.a)(D,2),k=N[0],x=N[1],C=Object(n.useState)(""),S=Object(d.a)(C,2),w=S[0],q=S[1];function F(){return(F=Object(p.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f.post("/buy-option",{title:a,normalPrice:o,percentageDiscount:v,quantityCupom:y,startDate:k,endDate:w});case 3:n=e.sent,console.log(n),l(""),u(""),g(""),j(""),x(""),q("");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(b,{children:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-deal"},r.a.createElement("div",{className:"form-deal-title"},r.a.createElement("strong",null,"Cadastre a op\xe7\xe3o de oferta")),r.a.createElement("form",{onSubmit:function(e){return F.apply(this,arguments)}},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-block"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{id:"title",name:"title",value:a,onChange:function(e){return l(e.target.value)},required:!0})),r.a.createElement("div",{className:"input-block"},r.a.createElement("label",{htmlFor:"quantityCupom"},"Quantity cupom"),r.a.createElement("input",{id:"quantityCupom",name:"quantityCupom",type:"number",value:y,onChange:function(e){return j(e.target.value)},required:!0}))),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-block"},r.a.createElement("label",{htmlFor:"normalPrice"},"Normal price"),r.a.createElement("input",{id:"normalPrice",type:"number",name:"normalPrice",value:o,onChange:function(e){return u(e.target.value)},required:!0})),r.a.createElement("div",{className:"input-block"},r.a.createElement("label",{htmlFor:"percentageDiscount"},"Percentage discount"),r.a.createElement("input",{id:"percentageDiscount",type:"number",name:"percentageDiscount",value:v,onChange:function(e){return g(e.target.value)},required:!0}))),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-block"},r.a.createElement("label",{htmlFor:"startDate"},"Start Date"),r.a.createElement("input",{id:"startDate",type:"date",name:"startDate",value:k,onChange:function(e){return x(e.target.value)},required:!0})),r.a.createElement("div",{className:"input-block"},r.a.createElement("label",{htmlFor:"endDate"},"End Date"),r.a.createElement("input",{id:"endDate",type:"date",name:"endDate",value:w,onChange:function(e){return q(e.target.value)},required:!0}))),r.a.createElement("button",{type:"submit"},"Salvar"))))})},V=a(171),$=a(170),z=(a(122),Object(P.a)((function(e){return{root:{width:500},typography:{padding:e.spacing(2)}}})));var G=function(e){var t,a=e.deal,l=Object(n.useState)(!1),c=Object(d.a)(l,2),i=c[0],o=c[1],u=Object(n.useState)(null),m=Object(d.a)(u,2),b=m[0],E=m[1],O=Object(n.useState)(),y=Object(d.a)(O,2),N=y[0],k=y[1],x=z();function C(){return(C=Object(p.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.post("/buy-option/".concat(t.id,"/sell"));case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement($.a,{onClickAway:function(){o(!1)}},r.a.createElement("li",{className:"deal-item"},r.a.createElement("header",null,r.a.createElement("div",{className:"user-info"},r.a.createElement("strong",null,a.title))),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(r.a.Fragment,null,a.text))),r.a.createElement("div",null,r.a.createElement(F.a,{onClick:(t="bottom-start",function(e){E(e.currentTarget),o((function(e){return N!==t||!e})),k(t)})},"View Options"),r.a.createElement(V.a,{open:i,anchorEl:b,placement:N,disablePortal:!1,transition:!0},r.a.createElement(D.a,null,r.a.createElement("div",{className:x.typography},a.buyOptions.length>0?r.a.createElement(v.a,{className:x.table,"aria-label":"simple table"},r.a.createElement(g.a,null,a.buyOptions.map((function(e){return r.a.createElement(j.a,{key:e.id},r.a.createElement(h.a,{align:"left"},e.title),r.a.createElement(h.a,{align:"left"},e.salePrice),r.a.createElement(h.a,{align:"right"},r.a.createElement(F.a,{color:"primary","aria-label":"Buying option",disabled:e.quantityCupom<=0,onClick:function(){return function(e){return C.apply(this,arguments)}(e)}},"Comprar")))})))):"N\xe3o h\xe0 op\xe7\xf5es de ofertas cadastradas ou v\xe1lidas para essa oferta"))))))};var K=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("/deals");case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(b,{children:r.a.createElement("main",null,r.a.createElement("ul",null,a?a.map((function(e){return r.a.createElement(G,{key:e._id,deal:e})})):""))})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(i.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:K}),r.a.createElement(o.a,{path:"/deal",component:Q}),r.a.createElement(o.a,{path:"/buy-option",component:R}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e,t,a){},75:function(e,t,a){},90:function(e,t,a){e.exports=a(123)},96:function(e,t,a){},97:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.045ed90b.chunk.js.map